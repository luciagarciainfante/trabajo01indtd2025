---
title: "Trabajo 1. Teoría de la Decisión. Enunciados y soluciones"
author: "Lucía García Infante"
format:
  html: default
  pdf: default
---

```{r}
source("teoriadecision_funciones_incertidumbre.R")
```


# EJERCICIO 1. 
Aplicar los criterios de decisión bajo incertidumbre al siguiente problema considerando una situación favorable (beneficios) y desfavorable (costos)

|    | e1  | e2  | e3  | e4  | e5  | e6  |
|----|-----|-----|-----|-----|-----|-----|
| d1 | 100 | 200 | 130 | 150 | 240 | 100 |
| d2 | 300 | 145 | 230 | 345 | 200 | 280 |
| d3 | 120 | 300 | 260 | 400 | 100 | 330 |
| d4 | 180 | 130 | 300 | 370 | 280 | 190 |
| d5 | 200 | 140 | 135 | 280 | 190 | 100 |



## Apartado a. Tabla correspondiente a beneficios. 

```{r}
tb01a = crea.tablaX(c(100,200,130,150,240,100,
                      300,145,230,345,200,280,
                      120,300,260,400,100,330,
                      180,130,300,370,280,190,
                      200,140,135,280,190,100),
                    numalternativas = 5, numestados = 6)
```
\pagebreak

**1. Método de Wald**
```{r}
b1 = criterio.Wald(tb01a,favorable=TRUE)
names(b1$AlternativaOptima)
```
**2. Método Optimista**
```{r}
b2 = criterio.Optimista(tb01a,favorable = TRUE)
names(b2$AlternativaOptima)
```
**3. Método Hurwicz**
```{r}
b3 = criterio.Hurwicz(tb01a,alfa=0.5,favorable=TRUE)
names(b3$AlternativaOptima)
```
**4. Método Savage**
```{r}
b4 = criterio.Savage(tb01a,favorable=TRUE)
names(b4$AlternativaOptima)
```
**5. Método Laplace**
```{r}
b5 = criterio.Laplace(tb01a,favorable=TRUE)
names(b5$AlternativaOptima)
```
\pagebreak

**6. Método Punto Ideal**
```{r}
b6 = criterio.PuntoIdeal(tb01a,favorable=TRUE)
names(b6$AlternativaOptima)
```
:::{.callout-tip}
### Conclusiones: 
Tomando los datos de la tabla como beneficios, los resultados que obtenemos son: La decisión 1 y la 5 no se eligen en ningún método. La 2 y la 3 empatan siendo elegidas por 3 métodos. Y la decisión 4 sólo aparece en 1. 
Por tanto, las mejores decisiones en este caso son la 2 y la 3.
:::

\pagebreak

## Apartado b. Tabla correspondiente a costes. 

**1. Método de Wald**
```{r}
c1 = criterio.Wald(tb01a,favorable=FALSE)
names(c1$AlternativaOptima)
```

**2. Método Optimista**
```{r}
c2 = criterio.Optimista(tb01a,favorable = FALSE)
names(c2$AlternativaOptima)
```

**3. Método Hurwicz**
```{r}
c3 = criterio.Hurwicz(tb01a,alfa=0.5,favorable=FALSE)
names(c3$AlternativaOptima)
```

**4. Método Savage**
```{r}
c4 = criterio.Savage(tb01a,favorable=FALSE)
names(c4$AlternativaOptima)
```

**5. Método Laplace**
```{r}
c5 = criterio.Laplace(tb01a,favorable=FALSE)
names(c5$AlternativaOptima)
```

\pagebreak

**6. Método Punto Ideal**
```{r}
c6 = criterio.PuntoIdeal(tb01a,favorable=FALSE)
names(c6$AlternativaOptima)
```


:::{.callout-tip}
### Conclusiones: 
Tomando los datos de la tabla como costes, los resultados que obtenemos son: La decisión 2 y la 4 no se eligen en ningún método. La 3 es elegida una única vez y la 5, dos veces. La decisión 1 es la que más veces es elegida por 5 métodos. 

Por tanto, la mejor decisión en este caso es la 1.
:::


\pagebreak



# EJERCICIO 2

Marina es una alumna del grado en Estadística que acaba este año. El próximo año quiere realizar un máster para mejorar sus oportunidades laborales, pero solo puede escoger uno.
Todavía no sabe en qué sitio empezará a trabajar aunque considera tres posibilidades:

- Una **institución pública**.
- Una **empresa privada española**.
- Una **empresa privada en el extranjero**.

Para decidir, Marina ha mirado tres másteres que le interesan y ha estimado cuál podría ser su primer sueldo anual según el tipo de empresa, junto con el coste de cada máster:

- **Máster en Análisis de Datos**. Espera ganar unos 26.000 € en una empresa extranjera, 18.000 € en una institución pública y 20.000 € en una empresa española. Este máster tiene un coste de 10.000 €.
- **Máster en Programación y Modelos Estadístico**. Estima que su sueldo inicial sería de 20.000 € en una empresa extranjera, 12.000 € en una institución pública y 20.000 € en una empresa privada española. El coste de este máster asciende a 6.500 €.
- **Máster en Comunicación y Gestión de Proyectos**. Espera un sueldo de 10.000 € en una empresa extranjera, 12.000 € en una institución pública y 20.000 € en una empresa privada española. Este máster tiene un coste de 3.000 €.


**Solución:**

PLANTEAMIENTO:

- Un decisor: Marina.
- Modelo de beneficios (favorable).
- Alternativas:
  - d1 = Máster en Análisis de Datos
  - d2 = Máster en Programación y Modelos Estadísticos
  - d3 = Máster en Comunicación y Gestión de Proyectos
- Estados de la naturaleza:
  - e1 = Empresa extranjera
  - e2 = Institución pública
  - e3 = Empresa privada española
- Matriz de decisión:  Beneficios = Sueldo esperado - Coste máster

```{r}
# Máster en Analisis de Datos
m11 = 26000 - 10000   # Empresa extranjera
m12 = 18000 - 10000   # Institución pública
m13 = 20000 - 10000   # Empresa española

# Máster en Programación y Modelos Estadísticos
m21 = 20000 - 6500  # Empresa extranjera
m22 = 12000 - 6500  # Institución pública
m23 = 20000 - 6500  # Empresa españolaA

# Máster en Comunicación y Gestión de Proyectos
m31 = 10000 - 3000  # Empresa extranjera
m32 = 12000 - 3000  # Institución pública
m33 = 20000 - 3000  # Empresa española

```

Inserto los datos en la tabla: 
```{r}
tb02 = crea.tablaX(c(m11,m12,m13,
                     m21,m22,m23,
                     m31,m32,m33),
    numalternativas = 3, numestados = 3,
    nb_alternativas = c("A1","A2","A3"),
    nb_estados = c("E1","E2","E3"))

tb02
```

Aplico la función que devuelve todos los métodos en una única tabla: 

```{r}
sol02 = criterio.Todos(tb02, alfa=0.5, favorable=TRUE)
sol02
```

:::{.callout-tip}
### Conclusiones: 
La alternativa A1 (Máster en Análisis de Datos) es la opción más recomendada, ya que resulta óptima en la mayoría de los criterios (3 veces).
:::





